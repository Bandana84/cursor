{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" href="{% static "admin/css/dashboard.css" %}">{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block bodyclass %}{{ block.super }} dashboard{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block nav-sidebar %}{% include "admin/nav_sidebar.html" %}{% endblock %}

{% block content %}
<div id="content-main">
    {% include "admin/app_list.html" with app_list=app_list show_changelinks=True %}
    
    <div class="module">
        <h2>Quick Statistics</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; padding: 20px;">
            <div class="stat-card" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 10px 0; color: #2c3e50;">Total Products</h3>
                <p style="font-size: 24px; margin: 0; color: #3498db;">{{ product_count }}</p>
            </div>
            <div class="stat-card" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 10px 0; color: #2c3e50;">Active Orders</h3>
                <p style="font-size: 24px; margin: 0; color: #2ecc71;">{{ active_orders_count }}</p>
            </div>
            <div class="stat-card" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 10px 0; color: #2c3e50;">Total Users</h3>
                <p style="font-size: 24px; margin: 0; color: #e74c3c;">{{ user_count }}</p>
            </div>
            <div class="stat-card" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 10px 0; color: #2c3e50;">Active Banners</h3>
                <p style="font-size: 24px; margin: 0; color: #f1c40f;">{{ active_banners_count }}</p>
            </div>
        </div>
    </div>

    <div class="module">
        <h2>Quick Actions</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; padding: 20px;">
            <a href="{% url 'admin:products_product_add' %}" class="button" style="text-align: center; text-decoration: none;">
                Add New Product
            </a>
            <a href="{% url 'admin:products_banner_add' %}" class="button" style="text-align: center; text-decoration: none;">
                Add New Banner
            </a>
            <a href="{% url 'admin:carts_order_changelist' %}" class="button" style="text-align: center; text-decoration: none;">
                View Orders
            </a>
            <a href="{% url 'admin:User_customuser_changelist' %}" class="button" style="text-align: center; text-decoration: none;">
                Manage Users
            </a>
        </div>
    </div>

    <div class="module">
        <h2>Recent Orders</h2>
        <table>
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>User</th>
                    <th>Status</th>
                    <th>Total</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for order in recent_orders %}
                <tr>
                    <td><a href="{% url 'admin:carts_order_change' order.id %}">{{ order.id }}</a></td>
                    <td>{{ order.user.username }}</td>
                    <td>{{ order.status }}</td>
                    <td>${{ order.total_amount }}</td>
                    <td>{{ order.created_at|date:"M d, Y" }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %} 